(function(e){function t(t){for(var c,o,i=t[0],r=t[1],u=t[2],b=0,d=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(c=!1)}c&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},a={app:0},s=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/reseau_social/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=r;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0677":function(e,t,n){"use strict";n("b02f")},"24f4":function(e,t,n){"use strict";n("2c6a")},"28e2":function(e,t,n){"use strict";n("3468")},"2c6a":function(e,t,n){},3468:function(e,t,n){},"348f":function(e,t,n){"use strict";n("69df")},"3b2a":function(e,t,n){"use strict";n("d269")},"3c53":function(e,t,n){"use strict";n("5681")},4418:function(e,t,n){"use strict";n("ece9")},5548:function(e,t,n){"use strict";n("6802")},5681:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function a(e,t){var n=Object(c["z"])("router-view");return Object(c["s"])(),Object(c["e"])(n)}n("e930");const s={};s.render=a;var o=s,i=(n("b0c0"),n("6c02")),r=Object(c["I"])("data-v-c61c1eb4");Object(c["v"])("data-v-c61c1eb4");var u={class:"home"},l={key:1,class:"container"},b={class:"left"},d={class:"center"},O={class:"right"};Object(c["t"])();var p=r((function(e,t,n,a,s,o){var i=Object(c["z"])("Login"),r=Object(c["z"])("Navigation"),p=Object(c["z"])("Upload"),j=Object(c["z"])("Posts"),f=Object(c["z"])("Chat");return Object(c["s"])(),Object(c["e"])("div",u,[a.isAuthenticated?Object(c["f"])("",!0):(Object(c["s"])(),Object(c["e"])(i,{key:0})),a.isAuthenticated?(Object(c["s"])(),Object(c["e"])("div",l,[Object(c["i"])("div",b,[Object(c["i"])(r)]),Object(c["i"])("div",d,[Object(c["i"])(p,{class:"upload"}),(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(a.allPosts,(function(e){return Object(c["s"])(),Object(c["e"])(j,{key:e._id,post:e,class:"posts"},null,8,["post"])})),128))]),Object(c["i"])("div",O,[Object(c["i"])(f)])])):Object(c["f"])("",!0)])})),j=n("5502"),f=Object(c["I"])("data-v-ca523654");Object(c["v"])("data-v-ca523654");var m={class:"login"},v={class:"container"},g=Object(c["i"])("div",{class:"logo"},[Object(c["i"])("i",{class:"fas fa-bolt"})],-1),h=Object(c["i"])("h1",{class:"heading"},"Join Social",-1),k=Object(c["i"])("p",{class:"description"},[Object(c["h"])(" You can easily signup, create and share your content with "),Object(c["i"])("span",null,"100M"),Object(c["h"])(" users. ")],-1),S={class:"form-group"},y=Object(c["i"])("i",{class:"far fa-envelope"},null,-1),_={class:"form-group"},I=Object(c["i"])("i",{class:"fas fa-lock"},null,-1),w=Object(c["i"])("p",null,"Forgot your password ?",-1),C=Object(c["i"])("button",{type:"submit",class:"btn"},"Continue",-1),A=Object(c["i"])("div",{class:"divider"},[Object(c["i"])("span"),Object(c["i"])("div",null,"Or"),Object(c["i"])("span")],-1),P=Object(c["h"])("Signup");Object(c["t"])();var N=f((function(e,t,n,a,s,o){var i=Object(c["z"])("router-link");return Object(c["s"])(),Object(c["e"])("section",m,[Object(c["i"])("div",v,[g,h,k,Object(c["i"])("form",{onSubmit:t[3]||(t[3]=Object(c["H"])((function(e){return a.login()}),["prevent"]))},[Object(c["i"])("div",S,[y,Object(c["F"])(Object(c["i"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),required:""},null,512),[[c["D"],a.email]])]),Object(c["i"])("div",_,[I,Object(c["F"])(Object(c["i"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),required:""},null,512),[[c["D"],a.password]])]),w,C],32),A,Object(c["i"])(i,{to:"/signup",class:"btn btn-black"},{default:f((function(){return[P]})),_:1})]),a.loading?(Object(c["s"])(),Object(c["e"])(a["Loader"],{key:0})):Object(c["f"])("",!0)])})),L=Object(c["I"])("data-v-37106512");Object(c["v"])("data-v-37106512");var U={class:"loader"},B=Object(c["i"])("div",{class:"lds-roller"},[Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div")],-1);Object(c["t"])();var D=L((function(e,t,n,a,s,o){return Object(c["s"])(),Object(c["e"])("div",U,[B])})),x={};n("5b16");x.render=D,x.__scopeId="data-v-37106512";var T=x,J={name:"Login",setup:function(){var e=Object(c["x"])(""),t=Object(c["x"])(""),n=Object(j["b"])(),a=Object(i["d"])(),s=Object(c["x"])(!1),o=function(){if(e.value&&t.value){var c={email:e.value,password:t.value};s.value=!0,n.dispatch("login",c).then((function(){n.commit("GET_ALL_POSTS"),s.value=!1})).catch((function(e){console.log(e),s.value=!1}))}else alert("veuillez remplir les champs")};return{login:o,email:e,password:t,store:n,router:a,Loader:T,loading:s}}};n("4418");J.render=N,J.__scopeId="data-v-ca523654";var E=J,z=Object(c["I"])("data-v-3b7a6d14");Object(c["v"])("data-v-3b7a6d14");var F=Object(c["i"])("i",{class:"fas fa-user"},null,-1),H=Object(c["i"])("i",{class:"fas fa-sign-out-alt"},null,-1);Object(c["t"])();var R=z((function(e,t,n,a,s,o){var i=Object(c["z"])("router-link");return Object(c["s"])(),Object(c["e"])("nav",null,[Object(c["i"])("ul",null,[Object(c["i"])("li",null,[Object(c["i"])(i,{to:"/"},{default:z((function(){return[Object(c["i"])("i",{class:["fas fa-home","Home"===a.route.name?"active-nav":""]},null,2)]})),_:1})]),Object(c["i"])("li",null,[Object(c["i"])(i,{to:"/profile/"+a.USERID,class:"Profile"===a.route.name?"active-nav":""},{default:z((function(){return[F]})),_:1},8,["to","class"])]),Object(c["i"])("li",{onClick:t[1]||(t[1]=function(e){return a.logout()})},[Object(c["i"])(i,{to:"/"},{default:z((function(){return[H]})),_:1})])])])})),q={name:"Navigation",setup:function(){var e=Object(j["b"])(),t=Object(i["c"])(),n=JSON.parse(sessionStorage.getItem("user")).userId,c=function(){e.commit("LOGOUT")};return{logout:c,store:e,route:t,USERID:n}}};n("348f");q.render=R,q.__scopeId="data-v-3b7a6d14";var G=q,M=Object(c["I"])("data-v-81599ac4");Object(c["v"])("data-v-81599ac4");var V={class:"wrapper"},K=Object(c["i"])("span",{class:"choice"},"Make a post",-1),Y={class:"input-wrapper"},W={key:0,type:"file",name:"file",ref:"file",accept:"image/*",required:""},Q=Object(c["i"])("button",{class:"submit-btn",type:"submit"},[Object(c["h"])(" Send "),Object(c["i"])("i",{class:"fas fa-arrow-circle-right"})],-1);Object(c["t"])();var X=M((function(e,t,n,a,s,o){return Object(c["s"])(),Object(c["e"])("div",V,[K,Object(c["i"])("form",{ref:"form",onSubmit:t[2]||(t[2]=Object(c["H"])((function(e){return a.newPost()}),["prevent"]))},[Object(c["i"])("div",Y,[Object(c["F"])(Object(c["i"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.content=e}),placeholder:"What's on your mind?",rows:"3",required:""},null,512),[[c["D"],a.content]])]),Object(c["i"])(c["b"],{name:"fade",tag:"div",class:"input-wrapper"},{default:M((function(){return[a.content?(Object(c["s"])(),Object(c["e"])("input",W,null,512)):Object(c["f"])("",!0)]})),_:1}),Q],544),a.loading?(Object(c["s"])(),Object(c["e"])(a["Loader"],{key:0})):Object(c["f"])("",!0)])})),Z=(n("96cf"),n("1da1")),$=n("bc3a"),ee=n.n($),te={name:"Upload",component:"Loader",setup:function(){var e=Object(c["x"])(""),t=Object(j["b"])(),n=Object(i["d"])(),a=Object(c["x"])(null),s=Object(c["x"])(null),o=Object(c["x"])(!1),r="https://social-network-join-us.herokuapp.com",u=function(){var n=JSON.parse(sessionStorage.getItem("user")).userId,c=JSON.parse(sessionStorage.getItem("user")).token;if(e.value&&a.value){var i=new FormData;i.append("userId",n),i.append("content",e.value),i.append("file",a.value.files[0]),o.value=!0,ee.a.post("".concat(r,"/post"),i,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(c)}}).then(function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,t.dispatch("getAllPosts");case 3:s.value.reset(),o.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),o.value=!1}))}};return{newPost:u,content:e,store:t,router:n,apiURL:r,file:a,form:s,Loader:T,loading:o}}};n("f8f8");te.render=X,te.__scopeId="data-v-81599ac4";var ne=te,ce=Object(c["I"])("data-v-3e3b4161");Object(c["v"])("data-v-3e3b4161");var ae={class:"card"},se={class:"card-header"},oe={class:"card-header-left"},ie={class:"card-header-left__avatar"},re={class:"card-header-left__content"},ue={class:"name"},le={class:"time"},be={class:"icon"},de=Object(c["i"])("i",{class:"fas fa-ellipsis-h"},null,-1),Oe=Object(c["i"])("i",{class:"far fa-trash-alt"},null,-1),pe=Object(c["i"])("span",null," Delete",-1),je={key:0,class:"card-image"},fe={class:"card-content"},me=Object(c["i"])("div",{class:"divider"},null,-1),ve={class:"card-reaction"},ge=Object(c["i"])("span",null,"Like",-1),he={key:0},ke=Object(c["i"])("span",null,"Comment",-1),Se={key:0},ye=Object(c["i"])("i",{class:"far fa-share-square"},[Object(c["i"])("span",null,"Share")],-1),_e=Object(c["i"])("div",{class:"divider"},null,-1),Ie={key:0,class:"comments"},we={class:"comments-list__avatar"},Ce={class:"comments-list__content"},Ae={class:"comment-name"},Pe={class:"comment-description"},Ne={key:0,class:"comments-list__delete-btn"},Le={class:"comment-input-wrapper"},Ue=Object(c["i"])("i",{class:"fas fa-arrow-circle-right"},null,-1);Object(c["t"])();var Be=ce((function(e,t,n,a,s,o){var i=Object(c["z"])("router-link");return Object(c["s"])(),Object(c["e"])("div",ae,[Object(c["i"])("div",se,[Object(c["i"])("div",oe,[Object(c["i"])("div",ie,[Object(c["i"])("img",{src:n.post.userAvatar,alt:"avatar"},null,8,["src"])]),Object(c["i"])("div",re,[Object(c["i"])("p",ue,Object(c["B"])(n.post.username),1),Object(c["i"])("p",le,Object(c["B"])(a.postTime),1)])]),a.userCanDelete?(Object(c["s"])(),Object(c["e"])("div",{key:0,class:"card-header-right",onClick:t[2]||(t[2]=function(e){return a.showDeleteBtn=!a.showDeleteBtn})},[Object(c["i"])("div",be,[de,a.showDeleteBtn?(Object(c["s"])(),Object(c["e"])("div",{key:0,class:"delete-btn",onClick:t[1]||(t[1]=Object(c["H"])((function(e){return a.deletePost(n.post._id)}),["stop"]))},[Oe,pe])):Object(c["f"])("",!0)])])):Object(c["f"])("",!0)]),Object(c["i"])(i,{to:"/post/"+n.post._id},{default:ce((function(){return[n.post.imageUrl?(Object(c["s"])(),Object(c["e"])("div",je,[Object(c["i"])("img",{src:n.post.imageUrl,alt:""},null,8,["src"])])):Object(c["f"])("",!0),Object(c["i"])("div",fe,[Object(c["i"])("p",null,Object(c["B"])(n.post.content),1)])]})),_:1},8,["to"]),me,Object(c["i"])("div",ve,[Object(c["i"])("i",{onClick:t[3]||(t[3]=function(e){return a.likeOnePost(n.post._id)}),class:["far fa-thumbs-up",a.isLiked?"liked":""]},[ge,n.post.likers.length>0?(Object(c["s"])(),Object(c["e"])("span",he,"("+Object(c["B"])(n.post.likers.length)+")",1)):Object(c["f"])("",!0)],2),Object(c["i"])("i",{onClick:t[4]||(t[4]=function(e){return a.showComment=!a.showComment}),class:"far fa-comment"},[ke,n.post.comments.length>0?(Object(c["s"])(),Object(c["e"])("span",Se," ("+Object(c["B"])(n.post.comments.length)+")",1)):Object(c["f"])("",!0)]),ye]),_e,a.showComment?(Object(c["s"])(),Object(c["e"])("div",Ie,[(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(n.post.comments,(function(e){return Object(c["s"])(),Object(c["e"])("div",{class:"comments-list",key:e._id},[Object(c["i"])("div",we,[Object(c["i"])("img",{src:e.userAvatar,alt:"avatar"},null,8,["src"])]),Object(c["i"])("div",Ce,[Object(c["i"])("p",Ae,Object(c["B"])(e.username),1),Object(c["i"])("p",Pe,Object(c["B"])(e.content),1)]),a.USERID==e.userId?(Object(c["s"])(),Object(c["e"])("div",Ne,[Object(c["i"])("i",{class:"fas fa-trash-alt",onClick:function(t){return a.deleteComment(n.post._id,e._id)}},null,8,["onClick"])])):Object(c["f"])("",!0)])})),128)),Object(c["i"])("div",Le,[Object(c["F"])(Object(c["i"])("input",{class:"comment-input",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.comment=e}),placeholder:"Write a comment..",onKeyup:t[6]||(t[6]=Object(c["G"])((function(e){return a.sendComment(n.post._id)}),["enter"]))},null,544),[[c["D"],a.comment]]),Object(c["i"])("div",{class:"comment-input-icon",onClick:t[7]||(t[7]=function(e){return a.sendComment(n.post._id)})},[Ue])])])):Object(c["f"])("",!0)])})),De=(n("99af"),n("caad"),n("2532"),{name:"Posts",props:["post"],setup:function(e){var t=Object(c["x"])(""),n=Object(c["x"])(!0),a=Object(c["x"])(!1),s=Object(j["b"])(),o=Object(i["d"])(),r=JSON.parse(sessionStorage.getItem("user")).userId,u="https://social-network-join-us.herokuapp.com",l=Object(c["c"])((function(){var t=JSON.parse(sessionStorage.getItem("user")).userId;return e.post.userId==t})),b=Object(c["c"])((function(){if(e.post){var t=new Date(e.post.createdAt),n=t.getFullYear(),c=t.getMonth()+1,a=t.getDate();return a<10&&(a="0"+a),c<10&&(c="0"+c),a+"/"+c+"/"+n}return""})),d=function(e){if(t.value){var n=JSON.parse(sessionStorage.getItem("user")).userId,c=JSON.parse(sessionStorage.getItem("user")).token,a={userId:n,content:t.value};ee.a.post("".concat(u,"/post/").concat(e,"/comment"),a,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){console.log(e.data),t.value="",s.commit("GET_ALL_POSTS")})).catch((function(e){return console.log(e)}))}},O=function(e){var t=JSON.parse(sessionStorage.getItem("user")).userId,n=JSON.parse(sessionStorage.getItem("user")).token,c={userId:t};ee.a.post("".concat(u,"/post/").concat(e,"/like"),c,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e.data),s.commit("GET_ALL_POSTS")})).catch((function(e){return console.log(e)}))},p=Object(c["c"])((function(){var t=JSON.parse(sessionStorage.getItem("user")).userId;return e.post.likers.includes(t)})),f=function(e){s.dispatch("deletePost",e).then((function(){s.commit("GET_ALL_POSTS")})).catch((function(e){return console.log(e)}))},m=function(e,t){var n=JSON.parse(sessionStorage.getItem("user")).token;ee.a.delete("".concat(u,"/post/").concat(e,"/comment/").concat(t),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),s.commit("GET_ALL_POSTS")})).catch((function(e){return console.log(e)}))};return{comment:t,sendComment:d,likeOnePost:O,router:o,isLiked:p,showComment:n,store:s,userCanDelete:l,showDeleteBtn:a,deletePost:f,deleteComment:m,USERID:r,postTime:b,apiURL:u}}});n("24f4");De.render=Be,De.__scopeId="data-v-3e3b4161";var xe=De,Te=Object(c["I"])("data-v-0341f455");Object(c["v"])("data-v-0341f455");var Je=Object(c["g"])('<div class="search-box" data-v-0341f455><input type="text" placeholder="Search.." data-v-0341f455><i class="fas fa-search" data-v-0341f455></i></div><div class="friend-btns" data-v-0341f455><button class="btn-blue" data-v-0341f455>FRIENDS</button><button data-v-0341f455>ADD</button></div>',2),Ee={class:"avatar-wrapper"},ze={class:"name"};Object(c["t"])();var Fe=Te((function(e,t,n,a,s,o){return Object(c["s"])(),Object(c["e"])("nav",null,[Je,Object(c["i"])("ul",null,[(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(a.people,(function(e,t){return Object(c["s"])(),Object(c["e"])("li",{key:t},[Object(c["i"])("div",Ee,[Object(c["i"])("img",{src:e.src,alt:"avatar"},null,8,["src"]),Object(c["i"])("span",{class:["badge",e.badge?"badge-active":""]},null,2)]),Object(c["i"])("span",ze,Object(c["B"])(e.name),1)])})),128))])])})),He={name:"Chat",setup:function(){var e=Object(c["x"])([{badge:!0,name:"Jason Oner",src:"https://cdn.vuetifyjs.com/images/lists/1.jpg"},{badge:!1,name:"Travis Howard",src:"https://cdn.vuetifyjs.com/images/lists/2.jpg"},{badge:!1,name:"Ali Connors",src:"https://cdn.vuetifyjs.com/images/lists/3.jpg"},{badge:!0,name:"Cindy Baker",src:"https://cdn.vuetifyjs.com/images/lists/4.jpg"},{badge:!0,name:"Aaron Fox",src:"https://cdn.vuetifyjs.com/images/lists/1.jpg"},{badge:!0,name:"Elisa Baker",src:"https://cdn.vuetifyjs.com/images/lists/5.jpg"},{badge:!1,name:"Elena Acras",src:"https://cdn.vuetifyjs.com/images/lists/3.jpg"},{badge:!1,name:"Julien Guerin",src:"https://cdn.vuetifyjs.com/images/lists/2.jpg"}]);return{people:e}}};n("5548");He.render=Fe,He.__scopeId="data-v-0341f455";var Re=He,qe={name:"Home",components:{Login:E,Navigation:G,Upload:ne,Posts:xe,Chat:Re},setup:function(){var e=Object(j["b"])(),t=Object(c["c"])((function(){return e.getters.isAuthenticated})),n=Object(c["c"])((function(){return e.getters.allPosts}));return Object(c["q"])((function(){e.commit("CHECK_CONNECTION"),e.commit("GET_ALL_POSTS")})),{isAuthenticated:t,store:e,allPosts:n}}};n("a6ff");qe.render=p,qe.__scopeId="data-v-c61c1eb4";var Ge=qe,Me=Object(c["I"])("data-v-07c83026");Object(c["v"])("data-v-07c83026");var Ve={class:"Signup"},Ke={class:"container"},Ye=Object(c["i"])("div",{class:"logo"},[Object(c["i"])("i",{class:"fas fa-bolt"})],-1),We=Object(c["i"])("h1",{class:"heading"},"Join Social",-1),Qe=Object(c["i"])("p",{class:"description"},[Object(c["h"])(" You can easily signup, create and share your content with "),Object(c["i"])("span",null,"100M"),Object(c["h"])(" users. ")],-1),Xe={class:"form-group"},Ze=Object(c["i"])("i",{class:"far fa-envelope"},null,-1),$e={class:"form-group"},et=Object(c["i"])("i",{class:"far fa-user"},null,-1),tt={class:"form-group"},nt=Object(c["i"])("i",{class:"fas fa-lock"},null,-1),ct=Object(c["i"])("button",{type:"submit",class:"btn"},"Continue",-1),at=Object(c["i"])("div",{class:"divider"},[Object(c["i"])("span"),Object(c["i"])("div",null,"Or"),Object(c["i"])("span")],-1),st=Object(c["h"])("Login");Object(c["t"])();var ot=Me((function(e,t,n,a,s,o){var i=Object(c["z"])("router-link");return Object(c["s"])(),Object(c["e"])("section",Ve,[Object(c["i"])("div",Ke,[Ye,We,Qe,Object(c["i"])("form",{onSubmit:t[4]||(t[4]=Object(c["H"])((function(e){return a.signup()}),["prevent"]))},[Object(c["i"])("div",Xe,[Ze,Object(c["F"])(Object(c["i"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),required:""},null,512),[[c["D"],a.email]])]),Object(c["i"])("div",$e,[et,Object(c["F"])(Object(c["i"])("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e}),required:""},null,512),[[c["D"],a.username]])]),Object(c["i"])("div",tt,[nt,Object(c["F"])(Object(c["i"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.password=e}),required:""},null,512),[[c["D"],a.password]])]),ct],32),at,Object(c["i"])(i,{to:"/",class:"btn btn-black"},{default:Me((function(){return[st]})),_:1})])])})),it={name:"Signup",setup:function(){var e=Object(c["x"])(""),t=Object(c["x"])(""),n=Object(c["x"])(""),a=Object(i["d"])(),s="https://social-network-join-us.herokuapp.com",o=function(){if(e.value&&n.value&&t.value){var c={email:e.value,password:n.value,username:t.value};ee.a.post("".concat(s,"/auth/signup"),c,{headers:{"Content-type":"application/json"}}).then((function(e){console.log(e.data),a.push("/")})).catch((function(e){return console.log(e)})),e.value="",t.value="",n.value=""}else alert("veuillez remplir les champs")};return{signup:o,email:e,username:t,password:n,router:a,apiURL:s}}};n("3b2a");it.render=ot,it.__scopeId="data-v-07c83026";var rt=it,ut=Object(c["I"])("data-v-26891906");Object(c["v"])("data-v-26891906");var lt={class:"wrapper-page"},bt={class:"left"},dt={class:"center"},Ot={class:"card"},pt={class:"card-header"},jt={class:"card-header-left"},ft={class:"card-header-left__avatar"},mt={class:"card-header-left__content"},vt={class:"name"},gt={class:"time"},ht={class:"icon"},kt=Object(c["i"])("i",{class:"fas fa-ellipsis-h"},null,-1),St=Object(c["i"])("i",{class:"far fa-trash-alt"},null,-1),yt=Object(c["i"])("span",null," Delete",-1),_t={key:0,class:"card-image"},It={class:"card-content"},wt=Object(c["i"])("div",{class:"divider"},null,-1),Ct={class:"card-reaction"},At=Object(c["i"])("span",null,"Like",-1),Pt={key:0},Nt={class:"far fa-comment"},Lt=Object(c["i"])("span",null,"Comment",-1),Ut={key:0},Bt=Object(c["i"])("i",{class:"far fa-share-square"},[Object(c["i"])("span",null,"Share")],-1),Dt=Object(c["i"])("div",{class:"divider"},null,-1),xt={class:"comments"},Tt={class:"comments-list__avatar"},Jt={class:"comments-list__content"},Et={class:"comment-name"},zt={class:"comment-description"},Ft={key:0,class:"comments-list__delete-btn"},Ht={class:"comment-input-wrapper"},Rt=Object(c["i"])("i",{class:"fas fa-arrow-circle-right"},null,-1);Object(c["t"])();var qt=ut((function(e,t,n,a,s,o){var i=Object(c["z"])("Navigation");return Object(c["s"])(),Object(c["e"])("div",lt,[Object(c["i"])("div",bt,[Object(c["i"])(i,{class:"menu-top"})]),Object(c["i"])("div",dt,[Object(c["i"])("div",Ot,[Object(c["i"])("div",pt,[Object(c["i"])("div",jt,[Object(c["i"])("div",ft,[Object(c["i"])("img",{src:a.post.userAvatar,alt:"avatar"},null,8,["src"])]),Object(c["i"])("div",mt,[Object(c["i"])("p",vt,Object(c["B"])(a.post.username),1),Object(c["i"])("p",gt,Object(c["B"])(a.postTime),1)])]),a.userCanDelete?(Object(c["s"])(),Object(c["e"])("div",{key:0,class:"card-header-right",onClick:t[2]||(t[2]=function(e){return a.showDeleteBtn=!a.showDeleteBtn})},[Object(c["i"])("div",ht,[kt,a.showDeleteBtn?(Object(c["s"])(),Object(c["e"])("div",{key:0,class:"delete-btn",onClick:t[1]||(t[1]=Object(c["H"])((function(e){return a.deletePost(a.post._id)}),["stop"]))},[St,yt])):Object(c["f"])("",!0)])])):Object(c["f"])("",!0)]),a.post.imageUrl?(Object(c["s"])(),Object(c["e"])("div",_t,[Object(c["i"])("img",{src:a.post.imageUrl,alt:""},null,8,["src"])])):Object(c["f"])("",!0),Object(c["i"])("div",It,[Object(c["i"])("p",null,Object(c["B"])(a.post.content),1)]),wt,Object(c["i"])("div",Ct,[Object(c["i"])("i",{class:["far fa-thumbs-up",a.isLiked?"liked":""],onClick:t[3]||(t[3]=function(e){return a.likeOnePost(a.post._id)})},[At,a.likesLength?(Object(c["s"])(),Object(c["e"])("span",Pt,"("+Object(c["B"])(a.post.likers.length)+")",1)):Object(c["f"])("",!0)],2),Object(c["i"])("i",Nt,[Lt,a.commentsLength?(Object(c["s"])(),Object(c["e"])("span",Ut,"("+Object(c["B"])(a.post.comments.length)+")",1)):Object(c["f"])("",!0)]),Bt]),Dt,Object(c["i"])("div",xt,[(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(a.post.comments,(function(e){return Object(c["s"])(),Object(c["e"])("div",{class:"comments-list",key:e._id},[Object(c["i"])("div",Tt,[Object(c["i"])("img",{src:e.userAvatar,alt:"avatar"},null,8,["src"])]),Object(c["i"])("div",Jt,[Object(c["i"])("p",Et,Object(c["B"])(e.username),1),Object(c["i"])("p",zt,Object(c["B"])(e.content),1)]),a.USERID==e.userId?(Object(c["s"])(),Object(c["e"])("div",Ft,[Object(c["i"])("i",{class:"fas fa-trash-alt",onClick:function(t){return a.deleteComment(a.post._id,e._id)}},null,8,["onClick"])])):Object(c["f"])("",!0)])})),128)),Object(c["i"])("div",Ht,[Object(c["F"])(Object(c["i"])("input",{class:"comment-input",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.comment=e}),placeholder:"Write a comment..",onKeyup:t[5]||(t[5]=Object(c["G"])((function(e){return a.sendComment(a.post._id,a.comment._id)}),["enter"]))},null,544),[[c["D"],a.comment]]),Object(c["i"])("div",{class:"comment-input-icon",onClick:t[6]||(t[6]=function(e){return a.sendComment(a.post._id,a.comment._id)})},[Rt])])])])])])})),Gt={components:{Navigation:G},name:"Post",props:["id"],setup:function(e){var t=Object(c["x"])([]),n=Object(c["x"])(!1),a=Object(j["b"])(),s=Object(i["d"])(),o=Object(c["x"])(""),r=JSON.parse(sessionStorage.getItem("user")).userId,u="https://social-network-join-us.herokuapp.com",l=function(e){if(sessionStorage.getItem("user")){var n=JSON.parse(sessionStorage.getItem("user")).token;ee.a.get("".concat(u,"/post/").concat(e),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){t.value=e.data})).catch((function(e){return console.log(e)}))}},b=Object(c["c"])((function(){if(t.value){var e=new Date(t.value.createdAt),n=e.getFullYear(),c=e.getMonth()+1,a=e.getDate();return a<10&&(a="0"+a),c<10&&(c="0"+c),a+"/"+c+"/"+n}return""})),d=Object(c["c"])((function(){var e=JSON.parse(sessionStorage.getItem("user")).userId;return t.value.userId==e})),O=function(t){if(o.value){var n=JSON.parse(sessionStorage.getItem("user")).userId,c=JSON.parse(sessionStorage.getItem("user")).token,a={userId:n,content:o.value};ee.a.post("".concat(u,"/post/").concat(t,"/comment"),a,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(t){console.log(t.data),o.value="",l(e.id)})).catch((function(e){return console.log(e)}))}},p=function(t){var n=JSON.parse(sessionStorage.getItem("user")).userId,c=JSON.parse(sessionStorage.getItem("user")).token,a={userId:n};ee.a.post("".concat(u,"/post/").concat(t,"/like"),a,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(t){console.log(t.data),l(e.id)})).catch((function(e){return console.log(e)}))},f=Object(c["c"])((function(){var e=JSON.parse(sessionStorage.getItem("user")).userId;return void 0!==t.value.likers&&t.value.likers.includes(e)})),m=function(e){a.dispatch("deletePost",e).then((function(){s.push("/")})).catch((function(e){return console.log(e)}))},v=function(t,n){var c=JSON.parse(sessionStorage.getItem("user")).token;ee.a.delete("".concat(u,"/post/").concat(t,"/comment/").concat(n),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(t){console.log(t),l(e.id)})).catch((function(e){return console.log(e)}))},g=Object(c["c"])((function(){return void 0!=t.value.comments&&t.value.comments.length>0})),h=Object(c["c"])((function(){return void 0!=t.value.likers&&t.value.likers.length>0}));return Object(c["q"])((function(){l(e.id)})),{comment:o,sendComment:O,post:t,getOnepost:l,postTime:b,likeOnePost:p,deleteComment:v,deletePost:m,isLiked:f,showDeleteBtn:n,userCanDelete:d,USERID:r,apiURL:u,commentsLength:g,likesLength:h}}};n("3c53");Gt.render=qt,Gt.__scopeId="data-v-26891906";var Mt=Gt,Vt=Object(c["I"])("data-v-2fc5bc92");Object(c["v"])("data-v-2fc5bc92");var Kt={class:"wrapper-page"},Yt={class:"left"},Wt={class:"center"};Object(c["t"])();var Qt=Vt((function(e,t,n,a,s,o){var i=Object(c["z"])("Navigation"),r=Object(c["z"])("UserDetail");return Object(c["s"])(),Object(c["e"])("div",Kt,[Object(c["i"])("div",Yt,[Object(c["i"])(i,{class:"menu-top"})]),Object(c["i"])("div",Wt,[Object(c["i"])(r,{user:a.userInfos,onUpdateAvatar:a.updateAvatar},null,8,["user","onUpdateAvatar"])])])})),Xt=Object(c["I"])("data-v-04eac148");Object(c["v"])("data-v-04eac148");var Zt={class:"wrapper-profile"},$t={class:"heading"},en={class:"avatar"},tn={key:0,class:"avatar-box"},nn=Object(c["i"])("button",{class:"modify-btn"},"Modify",-1),cn={key:1,class:"avatar-modif"},an=Object(c["i"])("label",{for:"file"},"Choisissez une nouvelle photo de profil:",-1),sn=Object(c["i"])("button",{type:"submit",class:"modify-btn"}," Update avatar ",-1),on={class:"form-group username"},rn=Object(c["i"])("p",null,"Username:",-1),un={class:"form-group email"},ln=Object(c["i"])("p",null,"Email:",-1);Object(c["t"])();var bn=Xt((function(e,t,n,a,s,o){return Object(c["s"])(),Object(c["e"])("div",Zt,[Object(c["i"])("h1",$t," Bienvenue sur votre profile "+Object(c["B"])(n.user.username)+"! ",1),Object(c["i"])("div",en,[a.updating?Object(c["f"])("",!0):(Object(c["s"])(),Object(c["e"])("div",tn,[Object(c["i"])("img",{src:n.user.userAvatar,alt:"avatar"},null,8,["src"]),Object(c["i"])("div",{class:"overlay",onClick:t[1]||(t[1]=function(e){return a.updating=!0})},[nn])])),a.updating?(Object(c["s"])(),Object(c["e"])("div",cn,[Object(c["i"])("form",{ref:"form",onSubmit:t[4]||(t[4]=Object(c["H"])((function(e){return a.updateProfile()}),["prevent"]))},[an,Object(c["i"])("input",{type:"file",onChange:t[2]||(t[2]=function(e){return a.handleFile(e)}),ref:"file",id:"file",name:"file",accept:"image/*",required:""},null,544),sn,Object(c["i"])("button",{class:"modify-btn modify-btn-cancel",onClick:t[3]||(t[3]=function(e){return a.updating=!1})}," Cancel ")],544)])):Object(c["f"])("",!0)]),Object(c["i"])("div",on,[rn,Object(c["i"])("h2",null,Object(c["B"])(n.user.username),1)]),Object(c["i"])("div",un,[ln,Object(c["i"])("h2",null,Object(c["B"])(n.user.email),1)]),Object(c["i"])("button",{class:"delete-btn",onClick:t[5]||(t[5]=function(e){return a.deleteUser(n.user._id)})}," Delete my account "),a.loading?(Object(c["s"])(),Object(c["e"])(a["Loader"],{key:0})):Object(c["f"])("",!0)])})),dn={name:"User Detail",components:{Loader:T},props:["user"],setup:function(e,t){var n=t.emit,a=Object(j["b"])(),s=Object(i["d"])(),o=Object(c["x"])(!1),r=Object(c["x"])(null),u=Object(c["x"])(null),l=Object(c["x"])(!1),b=function(e){window.confirm("Are you sure you want to delete your account ?")&&a.dispatch("deleteUser",e).then((function(){return s.push("/")})).catch((function(e){return console.log(e)}))},d=function(e){r.value=e.target.files[0],console.log(r.value)},O=function(){if(r.value){var e=new FormData;e.append("file",r.value),l.value=!0,a.dispatch("updateProfile",e).then(Object(Z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n("updateAvatar");case 2:l.value=!1,o.value=!1;case 4:case"end":return e.stop()}}),e)})))).catch((function(e){return console.log(e)}))}};return{deleteUser:b,store:a,router:s,updateProfile:O,updating:o,file:r,handleFile:d,form:u,loading:l,Loader:T}}};n("0677");dn.render=bn,dn.__scopeId="data-v-04eac148";var On=dn,pn={components:{Navigation:G,UserDetail:On},name:"Profile",props:["id"],setup:function(e){var t=Object(c["x"])([]),n="https://social-network-join-us.herokuapp.com",a=function(e){if(sessionStorage.getItem("user")){var c=JSON.parse(sessionStorage.getItem("user")).token;ee.a.get("".concat(n,"/auth/profile/").concat(e),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){t.value=e.data.user})).catch((function(e){return console.log(e)}))}},s=function(){return a(e.id)};return Object(c["q"])((function(){a(e.id)})),{userInfos:t,getUser:a,apiURL:n,updateAvatar:s}}};n("28e2");pn.render=Qt,pn.__scopeId="data-v-2fc5bc92";var jn=pn,fn=(n("d3b7"),"https://social-network-join-us.herokuapp.com"),mn=Object(j["a"])({state:{isAuthenticated:!1,allPosts:[]},getters:{isAuthenticated:function(e){return e.isAuthenticated},allPosts:function(e){return e.allPosts}},mutations:{CHECK_CONNECTION:function(e){sessionStorage.getItem("user")?e.isAuthenticated=!0:e.isAuthenticated=!1},LOGOUT:function(e){sessionStorage.clear(),e.isAuthenticated=!1},SET_AUTHENTIFICATION:function(e,t){e.isAuthenticated=t},GET_ALL_POSTS:function(e){if(sessionStorage.getItem("user")){var t=JSON.parse(sessionStorage.getItem("user")).token;ee.a.get("".concat(fn,"/post"),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){e.allPosts=t.data})).catch((function(e){return console.log(e)}))}else console.log("User is not connected!")}},actions:{login:function(e,t){var n=e.commit;return new Promise((function(e,c){ee.a.post("".concat(fn,"/auth/login"),t,{headers:{"Content-type":"application/json"}}).then((function(t){sessionStorage.setItem("user",JSON.stringify(t.data)),n("SET_AUTHENTIFICATION",!0),e()})).catch((function(e){alert(e.response.data["message"]),c(e)}))}))},deletePost:function(e,t){var n=JSON.parse(sessionStorage.getItem("user")).token;return new Promise((function(e,c){ee.a.delete("".concat(fn,"/post/").concat(t),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(t){console.log(t),e()})).catch((function(e){console.log(e),c(e)}))}))},deleteUser:function(e,t){var n=e.commit,c=JSON.parse(sessionStorage.getItem("user")).token;return new Promise((function(e,a){ee.a.delete("".concat(fn,"/auth/delete-user/").concat(t),{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(t){console.log(t),sessionStorage.clear(),n("SET_AUTHENTIFICATION",!1),e()})).catch((function(e){return a(e)}))}))},updateProfile:function(e,t){var n=JSON.parse(sessionStorage.getItem("user")).token,c=JSON.parse(sessionStorage.getItem("user")).userId;return new Promise((function(e,a){ee.a.put("".concat(fn,"/auth/profile/").concat(c),t,{headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(n)}}).then((function(t){e(t)})).catch((function(e){return a(e)}))}))},getAllPosts:function(e){var t=e.commit;return t("GET_ALL_POSTS")}},modules:{}}),vn=[{path:"/",name:"Home",component:Ge},{path:"/signup",name:"Signup",component:rt},{path:"/post/:id",name:"Post",component:Mt,props:!0},{path:"/profile/:id",name:"Profile",component:jn,props:!0},{path:"/:pathMatch(.*)*",redirect:"/"}],gn=Object(i["a"])({history:Object(i["b"])("/reseau_social/"),routes:vn});gn.beforeEach((function(e,t,n){"Signup"==e.name?n():"Home"!==e.name&&0==mn.getters.isAuthenticated?n({name:"Home"}):n()}));var hn=gn;Object(c["d"])(o).use(mn).use(hn).mount("#app")},"5b16":function(e,t,n){"use strict";n("9d69")},6802:function(e,t,n){},"69df":function(e,t,n){},"6efa":function(e,t,n){},"9d69":function(e,t,n){},a6ff:function(e,t,n){"use strict";n("a818")},a818:function(e,t,n){},b02f:function(e,t,n){},cb80:function(e,t,n){},d269:function(e,t,n){},e930:function(e,t,n){"use strict";n("cb80")},ece9:function(e,t,n){},f8f8:function(e,t,n){"use strict";n("6efa")}});
//# sourceMappingURL=app.cfe9110e.js.map